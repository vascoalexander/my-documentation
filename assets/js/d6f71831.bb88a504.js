"use strict";(self.webpackChunkmy_documentation=self.webpackChunkmy_documentation||[]).push([[315],{28453:(n,e,t)=>{t.d(e,{R:()=>d,x:()=>o});var i=t(96540);const a={},r=i.createContext(a);function d(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:d(n.components),i.createElement(r.Provider,{value:e},n.children)}},85996:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>o,default:()=>m,frontMatter:()=>d,metadata:()=>i,toc:()=>s});const i=JSON.parse('{"id":"DB/ProjectDB/projektdb08-outerjoin1","title":"OUTER JOIN I","description":"","source":"@site/docs/07-DB/03-ProjectDB/projektdb08-outerjoin1.md","sourceDirName":"07-DB/03-ProjectDB","slug":"/DB/ProjectDB/projektdb08-outerjoin1","permalink":"/my-documentation/docs/DB/ProjectDB/projektdb08-outerjoin1","draft":false,"unlisted":false,"editUrl":"https://github.com/vascoalexander/my-documentation/tree/main/docs/07-DB/03-ProjectDB/projektdb08-outerjoin1.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15,"description":"","draft":false,"title":"OUTER JOIN I"},"sidebar":"dbSidebar","previous":{"title":"SELF JOIN","permalink":"/my-documentation/docs/DB/ProjectDB/projektdb07-selfjoin"},"next":{"title":"OUTER JOIN II","permalink":"/my-documentation/docs/DB/ProjectDB/projektdb08-outerjoin2"}}');var a=t(74848),r=t(28453);const d={sidebar_position:15,description:"",draft:!1,title:"OUTER JOIN I"},o=void 0,u={},s=[];function c(n){const e={code:"code",pre:"pre",...(0,r.R)(),...n.components};return(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"-- Nutzen Sie die Datenbank ProjektDB, \n-- um die folgenden Aufgaben zu l\xf6sen:\n\n\n-- Aufgabe 8.1\n--\n-- Zeigen Sie die Id, Firma und die Stadt aller Kunden\n-- an. Zeigen Sie dazu au\xdferdem den Namen der Abteilungen \n-- an, die am Ort des Kunden ihren Sitz haben (bilden Sie \n-- den Join \xfcber die Stadt).\n--\n--      id  firma                    stadt        bezeichnung\n--      1   Im- und Export AG        M\xfcnchen      Beratung\n--      1   Im- und Export AG        M\xfcnchen      Diagnose\n--      1   Im- und Export AG        M\xfcnchen      Einkauf\n--      2   Technische Produkte oHG  Ulm          Verkauf\n--      3   Frankreich-Reisen GmbH   Saarlouis    NULL\n--      4   Getr\xe4nke Schneider       Heidenheim   NULL\n--      5   Finanzamt Ulm            F\xfcrth        NULL\n--      6   100% Sonderzeichen AG    Baden_Baden  NULL\n\nSELECT k.*, a.bezeichnung\nFROM Kunde k\nLEFT JOIN Abteilung a ON a.stadt = k.stadt\n\n\n-- Aufgabe 8.2\n--\n-- \xc4ndern Sie die Abfrage aus Aufgabe 8.1, so dass alle\n-- Abteilungen angezeigt werden, und dazu die passenden\n-- Kunden im selben Ort.\n--\n--      id    firma                    stadt    bezeichnung\n--      1     Im- und Export AG        M\xfcnchen  Beratung\n--      1     Im- und Export AG        M\xfcnchen  Diagnose\n--      NULL  NULL                     NULL     Freigabe\n--      1     Im- und Export AG        M\xfcnchen  Einkauf\n--      2     Technische Produkte oHG  Ulm      Verkauf\n\nSELECT k.*, a.bezeichnung\nFROM Kunde k\nRIGHT JOIN Abteilung a ON a.stadt = k.stadt\n\n-- Aufgabe 8.3\n--\n-- \xdcberarbeiten Sie die Abfrage aus der Aufgabe 8.1.\n-- Statt NULL soll in der Spalte f\xfcr die Abteilung der\n-- Text '- k. A. -' angezeigt werden.\n--\n--      id  firma                    stadt        bezeichnung\n--      1   Im- und Export AG        M\xfcnchen      Beratung\n--      1   Im- und Export AG        M\xfcnchen      Diagnose\n--      1   Im- und Export AG        M\xfcnchen      Einkauf\n--      2   Technische Produkte oHG  Ulm          Verkauf\n--      3   Frankreich-Reisen GmbH   Saarlouis    - k. A. -\n--      4   Getr\xe4nke Schneider       Heidenheim   - k. A. -\n--      5   Finanzamt Ulm            F\xfcrth        - k. A. -\n--      6   100% Sonderzeichen AG    Baden_Baden  - k. A. -\n\nSELECT k.*, ISNULL(a.bezeichnung, '- k. A. -')\nFROM Kunde k\nLEFT JOIN Abteilung a ON a.stadt = k.stadt\n\n-- Aufgabe 8.4\n--\n-- Geben Sie eine Liste aller Kunden aus. Geben Sie zu den\n-- Kunden auch das Projekt aus, sofern vorhanden.\n--\n--      firma                    stadt        bezeichnung\n--      Im- und Export AG        M\xfcnchen      Merkur\n--      Technische Produkte oHG  Ulm          Ariane\n--      Frankreich-Reisen GmbH   Saarlouis    Apollo\n--      Getr\xe4nke Schneider       Heidenheim   Pluto\n--      Finanzamt Ulm            F\xfcrth        Gemini\n--      100% Sonderzeichen AG    Baden_Baden  NULL\n\nSELECT k.*, p.bezeichnung\nFROM Kunde k\nLEFT JOIN Projekt p ON k.id = p.kd_id\n\n-- Aufgabe 8.5\n--\n-- Geben Sie jetzt nur die Kunden aus, zu denen es kein\n-- Projekt gibt.\n--\n--      firma                  stadt        bezeichnung\n--      100% Sonderzeichen AG  Baden_Baden  NULL\n\nSELECT k.*, p.bezeichnung\nFROM Kunde k\nLEFT JOIN Projekt p ON k.id = p.kd_id\nWHERE p.kd_id IS NULL\n\n-- Aufgabe 8.6\n--\n-- Geben Sie eine Liste der Kunden mit Firma und Stadt aus.\n-- Geben Sie dazu die Nachnamen der Mitarbeiter aus, die\n-- im selben Ort wohnen.\n--\n--      firma                   stadt       nachname\n--      Im- und Export AG       M\xfcnchen     Richter\n--      Im- und Export AG       M\xfcnchen     Vogel\n--      Im- und Export AG       M\xfcnchen     Schubert\n--      Im- und Export AG       M\xfcnchen     Keller\n--      Frankreich-Reisen GmbH  Saarlouis   NULL\n--      Getr\xe4nke Schneider      Heidenheim  Wolf\n--      ...\n--      (10 Zeilen)\n\nSELECT k.*, m.nachname\nFROM Kunde k\nLEFT JOIN Mitarbeiter m ON k.stadt = m.stadt\n\n-- Aufgabe 8.7\n--\n-- Geben Sie wieder die Liste der Kunden aus. Geben Sie\n-- diesmal dazu die Anzahl Mitarbeiter aus, die am selben\n-- Ort wohnen.\n--\n--      firma                    stadt        mitarbeiter\n--      100% Sonderzeichen AG    Baden_Baden  0\n--      Finanzamt Ulm            F\xfcrth        1\n--      Getr\xe4nke Schneider       Heidenheim   1\n--      Im- und Export AG        M\xfcnchen      4\n--      Frankreich-Reisen GmbH   Saarlouis    0\n--      Technische Produkte oHG  Ulm          2\n\nSELECT k.firma, k.stadt, COUNT(m.id) as mitarbeiter\nFROM Kunde k\nLEFT JOIN Mitarbeiter m ON k.stadt = m.stadt\nGROUP BY k.firma, k.stadt\n\n-- Aufgabe 8.8\n--\n-- Erg\xe4nzen Sie die Abfrage aus Aufgabe 8.7 und geben \n-- Sie zus\xe4tzlich noch die Anzahl Abteilungen aus, die\n-- es am Ort des Kunden gibt.\n--\n--      firma                    stadt        mitarbeiter  abteilungen\n--      100% Sonderzeichen AG    Baden_Baden  0            0\n--      Finanzamt Ulm            F\xfcrth        1            0\n--      Getr\xe4nke Schneider       Heidenheim   1            0\n--      Im- und Export AG        M\xfcnchen      4            3\n--      Frankreich-Reisen GmbH   Saarlouis    0            0\n--      Technische Produkte oHG  Ulm          2            1\n\nSELECT k.firma, k.stadt, COUNT(DISTINCT m.id) as mitarbeiter, COUNT(DISTINCT a.id) as abteilungen\nFROM Kunde k\nLEFT JOIN Mitarbeiter m ON k.stadt = m.stadt\nLEFT JOIN Abteilung a ON k.stadt = a.stadt\nGROUP BY k.firma, k.stadt\n"})})}function m(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}}}]);