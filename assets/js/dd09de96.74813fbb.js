"use strict";(self.webpackChunkmy_documentation=self.webpackChunkmy_documentation||[]).push([[4130],{3844:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Linux/Dateisystem/LVM","title":"LVM","description":"","source":"@site/docs/07-Linux/01-Dateisystem/02-LVM.md","sourceDirName":"07-Linux/01-Dateisystem","slug":"/Linux/Dateisystem/LVM","permalink":"/my-documentation/docs/Linux/Dateisystem/LVM","draft":false,"unlisted":false,"editUrl":"https://github.com/vascoalexander/my-documentation/tree/main/docs/07-Linux/01-Dateisystem/02-LVM.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"created":"2025-02-22, 08:50","title":"LVM","description":"","sidebar_position":2,"draft":false},"sidebar":"linuxSidebar","previous":{"title":"Diagnose & Systeminformation","permalink":"/my-documentation/docs/Linux/Dateisystem/Diagnose & Systeminformation"},"next":{"title":"Links","permalink":"/my-documentation/docs/Linux/Dateisystem/Links"}}');var l=s(4848),i=s(8453);const r={created:"2025-02-22, 08:50",title:"LVM",description:"",sidebar_position:2,draft:!1},d=void 0,c={},a=[{value:"Grundlagen von LVM",id:"grundlagen-von-lvm",level:2},{value:"Wichtige Befehle",id:"wichtige-befehle",level:2},{value:"Praxisbeispiel: Einbindung einer neuen Festplatte",id:"praxisbeispiel-einbindung-einer-neuen-festplatte",level:2},{value:"1. Neue Festplatte identifizieren und vorbereiten",id:"1-neue-festplatte-identifizieren-und-vorbereiten",level:3},{value:"2. Physical Volume erstellen oder erweitern",id:"2-physical-volume-erstellen-oder-erweitern",level:3},{value:"3. Logical Volume erweitern oder neu erstellen",id:"3-logical-volume-erweitern-oder-neu-erstellen",level:3},{value:"5. Abschluss und \xdcberpr\xfcfung",id:"5-abschluss-und-\xfcberpr\xfcfung",level:3}];function h(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"LVM (Logical Volume Manager) ist ein System zur flexiblen Verwaltung von Speicherplatz unter Linux. Es erm\xf6glicht, physische Datentr\xe4ger in abstrakte, logische Einheiten umzuwandeln, die dynamisch erweitert, verkleinert oder verschoben werden k\xf6nnen \u2013 ohne dass man die physischen Partitionen direkt bearbeiten muss."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"grundlagen-von-lvm",children:"Grundlagen von LVM"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Physical Volumes (PV):"}),(0,l.jsx)(n.br,{}),"\n","Physische Datentr\xe4ger oder Partitionen, die von LVM genutzt werden. Bevor ein Datentr\xe4ger in eine Volume Group aufgenommen werden kann, muss er mit dem Befehl ",(0,l.jsx)(n.code,{children:"pvcreate"})," initialisiert werden."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Volume Groups (VG):"}),(0,l.jsx)(n.br,{}),"\n","Eine Sammlung von Physical Volumes, die zu einem gemeinsamen Speicherpool zusammengefasst werden. Dieser Pool stellt den Speicherplatz bereit, aus dem dann logische Volumes erstellt werden. Ein neuer Speicherpool wird typischerweise mit ",(0,l.jsx)(n.code,{children:"vgcreate"})," angelegt, und bestehende PVs k\xf6nnen mit ",(0,l.jsx)(n.code,{children:"vgextend"})," hinzugef\xfcgt werden."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Logical Volumes (LV):"}),(0,l.jsx)(n.br,{}),"\n","Die aus der Volume Group zugeteilten logischen Partitionen. Diese k\xf6nnen als Dateisysteme eingebunden werden und bieten Flexibilit\xe4t, da sie in der Gr\xf6\xdfe ver\xe4ndert oder zwischen VGs verschoben werden k\xf6nnen. Mit ",(0,l.jsx)(n.code,{children:"lvcreate"})," legt man ein neues LV an, und mit ",(0,l.jsx)(n.code,{children:"lvextend"})," oder ",(0,l.jsx)(n.code,{children:"lvreduce"})," passt man die Gr\xf6\xdfe an."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"wichtige-befehle",children:"Wichtige Befehle"}),"\n",(0,l.jsx)(n.p,{children:"Hier ist eine tabellarische \xdcbersicht der wichtigsten LVM-Befehle:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Befehl"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Beschreibung"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Beispiel"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"pvcreate"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Initialisiert ein physisches Volume (PV)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo pvcreate /dev/sda1"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"pvdisplay"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Zeigt detaillierte Informationen zu einem PV"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"pvdisplay /dev/sda1"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"pvs"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Kompakte \xdcbersicht aller vorhandenen PVs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"pvs"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"vgcreate"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Erstellt eine neue Volume Group (VG) aus einem oder mehreren PVs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo vgcreate vg_data /dev/sda1"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"vgdisplay"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Zeigt Details zur Volume Group"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"vgdisplay vg_data"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"vgs"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Kompakte \xdcbersicht aller VGs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"vgs"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"vgextend"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Erweitert eine VG durch Hinzuf\xfcgen eines weiteren PVs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo vgextend vg_data /dev/sdb1"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvcreate"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Erstellt ein neues logisches Volume (LV)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo lvcreate -L 10G -n lv_home vg_data"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvdisplay"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Zeigt detaillierte Informationen zu einem LV"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"lvdisplay /dev/vg_data/lv_home"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvs"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Kompakte \xdcbersicht aller LVs"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"lvs"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvextend"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Erweitert ein LV um zus\xe4tzlichen Speicherplatz"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo lvextend -L +5G /dev/vg_data/lv_home"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvreduce"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Verkleinert ein LV (nach vorheriger Anpassung des Dateisystems)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo lvreduce -L 5G /dev/vg_data/lv_home"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"lvremove"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Entfernt ein LV"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo lvremove /dev/vg_data/lv_home"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"vgremove"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Entfernt eine VG"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo vgremove vg_data"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"pvremove"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"L\xf6scht LVM-Daten von einem PV (entfernt das PV aus der LVM-Konfiguration)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.code,{children:"sudo pvremove /dev/sda1"})})]})]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Dateisystem-Anpassung:"}),(0,l.jsx)(n.br,{}),"\n","Nach der Erweiterung eines LVs muss das darauf befindliche Dateisystem vergr\xf6\xdfert werden. Bei ext4 etwa:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo resize2fs /dev/vg_data/lv_home\n"})}),"\n",(0,l.jsx)(n.p,{children:"F\xfcr XFS-Dateisysteme:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo xfs_growfs /mountpunkt\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"praxisbeispiel-einbindung-einer-neuen-festplatte",children:"Praxisbeispiel: Einbindung einer neuen Festplatte"}),"\n",(0,l.jsx)(n.h3,{id:"1-neue-festplatte-identifizieren-und-vorbereiten",children:"1. Neue Festplatte identifizieren und vorbereiten"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\xdcberpr\xfcfe den aktuellen Speicherstatus"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"df -h\nlsblk\nlfdisplay\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Festplatte finden:"}),(0,l.jsx)(n.br,{}),"\n","Verwenden Sie ",(0,l.jsx)(n.code,{children:"lsblk"})," oder ",(0,l.jsx)(n.code,{children:"fdisk -l"}),", um die neue Festplatte (z.\u202fB. ",(0,l.jsx)(n.code,{children:"/dev/sdb"}),") zu identifizieren."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lsblk\nsudo fdisk -l\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Partition anlegen:"}),(0,l.jsx)(n.br,{}),"\n","Nutzen Sie ",(0,l.jsx)(n.code,{children:"fdisk"})," oder ",(0,l.jsx)(n.code,{children:"parted"}),", um eine neue Partition anzulegen. Achten Sie darauf, den Partitions-Typ auf \u201eLinux LVM\u201c (Code 8e) zu setzen."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo fdisk /dev/sdb\n"})}),"\n",(0,l.jsx)(n.p,{children:"Im fdisk-Men\xfc:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Dr\xfccken Sie ",(0,l.jsx)(n.code,{children:"n"}),", um eine neue Partition zu erstellen."]}),"\n",(0,l.jsxs)(n.li,{children:["\xc4ndern Sie mit ",(0,l.jsx)(n.code,{children:"t"})," den Partitions-Typ auf ",(0,l.jsx)(n.code,{children:"8e"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Speichern Sie mit ",(0,l.jsx)(n.code,{children:"w"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-physical-volume-erstellen-oder-erweitern",children:"2. Physical Volume erstellen oder erweitern"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Wenn du eine neue Festplatte oder Partition hinzuf\xfcgst:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pvcreate /dev/sdX # Falls eine neue Partition oder Festplatte genutzt wird\nvgextend my_vg /dev/sdX # Volume Group um das neue PV erweitern\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Falls das PV bereits existiert und vergr\xf6\xdfert wurde (z. B. nach einer VM-Festplattenerweiterung):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"    pvresize /dev/sdX\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-logical-volume-erweitern-oder-neu-erstellen",children:"3. Logical Volume erweitern oder neu erstellen"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Erweiterung eines bestehenden Logical Volumes:"}),(0,l.jsx)(n.br,{}),"\n","Falls Sie bereits ein Logical Volume (z.\u202fB. ",(0,l.jsx)(n.code,{children:"/dev/vg_data/lv_home"}),") haben und dessen Gr\xf6\xdfe vergr\xf6\xdfern m\xf6chten:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo lvextend -l +100%FREE /dev/vg_data/lv_home\n"})}),"\n",(0,l.jsx)(n.p,{children:"Anschlie\xdfend muss das Dateisystem angepasst werden:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"df -Th / | grep mapper               # Pr\xfcfung des Typs (zb ext4 oder xfs)\nsudo resize2fs /dev/vg_data/lv_home  # f\xfcr ext4\nsudo xfs_growfs /                    # f\xfcr xfs\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Neues Logical Volume erstellen:"}),(0,l.jsx)(n.br,{}),"\n","Falls Sie ein neues LV anlegen wollen:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo lvcreate -L 20G -n lv_new vg_data\n"})}),"\n",(0,l.jsx)(n.p,{children:"Formatieren Sie das neue LV mit dem gew\xfcnschten Dateisystem, z.\u202fB. ext4:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo mkfs.ext4 /dev/vg_data/lv_new\n"})}),"\n",(0,l.jsx)(n.p,{children:"Und binden Sie es in das Dateisystem ein:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo mkdir /mnt/new_storage\nsudo mount /dev/vg_data/lv_new /mnt/new_storage\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"5-abschluss-und-\xfcberpr\xfcfung",children:"5. Abschluss und \xdcberpr\xfcfung"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\xdcberpr\xfcfen Sie mit ",(0,l.jsx)(n.code,{children:"pvdisplay"}),", ",(0,l.jsx)(n.code,{children:"vgdisplay"})," und ",(0,l.jsx)(n.code,{children:"lvdisplay"})," die aktuelle LVM-Konfiguration."]}),"\n",(0,l.jsx)(n.li,{children:"Stellen Sie sicher, dass das Dateisystem korrekt eingebunden und verf\xfcgbar ist."}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var t=s(6540);const l={},i=t.createContext(l);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);